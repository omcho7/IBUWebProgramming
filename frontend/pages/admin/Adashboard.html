    <nav class="navbar navbar-expand-lg navbar-light">
      <div class="container-fluid d-flex justify-content-between align-items-center">
        <span class="d-flex align-items-center">
          <img
            src="../../assets/images/logo.svg"
              alt="NutriLife logo"
            onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItbGVhZiI+PHBhdGggZD0iTTExIDIwQzYuNSAxNiA2IDE5IDYgMTJDNiA1IDEyIDMgMTIgM0MxMiAzIDEyIDkgMTIgOUMxMiA5IDE4IDkgMTggOUMxOCA5IDE4IDIxIDExIDIwWk0xMSAyMEMyIDIwIDIgMTYgMiAxNiI+PC9wYXRoPjwvc3ZnPg==';"
              style="margin-right: 8px"
          />
          <a class="navbar-brand">NutriLife</a>
          </span>
      
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav mb-2 mb-lg-0">
            <li class="nav-item">
              <span class="container-fluid d-flex justify-content-between align-items-center">
                <i class="profilePic bi bi-person-circle"></i>
                <!-- Button trigger modal -->
                <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#logoutModal">
                  Logout
                </button>
                
                <!-- Modal -->
                <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title fs-5" id="logoutModalLabel">Attention!</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        Are you sure you want to log out and return to home screen?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No, Return</button>
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
                          <a onclick="UserService.logout()">Yes, Logout</a>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </span>
            </li>
            </ul>
          </div>
      </div>
      </nav>

    <div class="container mt-5">
      <h1 class="dashboard-header">Nutritionist Dashboard</h1>
      
      <!-- Main tabs navigation -->
      <ul class="nav nav-tabs" id="dashboardTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="clients-tab" data-bs-toggle="tab" data-bs-target="#clients-tab-pane" type="button" role="tab" aria-controls="clients-tab-pane" aria-selected="true">
            <span>üë• Clients</span>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="appointments-tab" data-bs-toggle="tab" data-bs-target="#appointments-tab-pane" type="button" role="tab" aria-controls="appointments-tab-pane" aria-selected="false">
            <span>üìÖ Appointments</span>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="mealplans-tab" data-bs-toggle="tab" data-bs-target="#mealplans-tab-pane" type="button" role="tab" aria-controls="mealplans-tab-pane" aria-selected="false">
            <span>üçΩÔ∏è Meal Plans</span>
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="healthgoals-tab" data-bs-toggle="tab" data-bs-target="#healthgoals-tab-pane" type="button" role="tab" aria-controls="healthgoals-tab-pane" aria-selected="false">
            <span>üèÜ Health Goals</span>
          </button>
        </li>
      </ul>
      
      <!-- Tab content -->
      <div class="tab-content" id="dashboardTabsContent">
        <!-- Clients tab -->
        <div class="tab-pane fade show active" id="clients-tab-pane" role="tabpanel" aria-labelledby="clients-tab" tabindex="0">
          <div class="card mb-4">
            <div class="card-body">
              <h5 class="card-title">Manage Clients</h5>
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="usersTable">
                  <tr>
                    <td colspan="4" class="text-center">Loading clients...</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        
        <!-- Appointments tab -->
        <div class="tab-pane fade" id="appointments-tab-pane" role="tabpanel" aria-labelledby="appointments-tab" tabindex="0">
      <div class="card mb-4">
        <div class="card-body">
          <h5 class="card-title">Manage Appointments</h5>
              <div class="action-buttons">
                <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addAppointmentModal">
                  <i class="bi bi-plus-circle"></i> Add Appointment
                </button>
              </div>
          <table class="table table-striped">
            <thead>
              <tr>
                    <th>Title</th>
                <th>Date</th>
                <th>Time</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
                <tbody id="appointmentsTable">
                  <tr>
                    <td colspan="5" class="text-center">Select a client to view appointments</td>
                  </tr>
                </tbody>
          </table>
            </div>
        </div>
      </div>

        <!-- Meal Plans tab -->
        <div class="tab-pane fade" id="mealplans-tab-pane" role="tabpanel" aria-labelledby="mealplans-tab" tabindex="0">
      <div class="card mb-4">
        <div class="card-body">
              <h5 class="card-title">Manage Meal Plans</h5>
              <div class="action-buttons">
                <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addMealPlanModal">
                  <i class="bi bi-plus-circle"></i> Add Meal Plan
          </button>
              </div>
          <table class="table table-striped">
            <thead>
              <tr>
                    <th>Meal Plan</th>
                    <th>Created</th>
                <th>Actions</th>
              </tr>
            </thead>
                <tbody id="mealPlansTable">
                  <tr>
                    <td colspan="3" class="text-center">Select a client to view meal plans</td>
                  </tr>
                </tbody>
          </table>
            </div>
        </div>
      </div>

        <!-- Health Goals tab -->
        <div class="tab-pane fade" id="healthgoals-tab-pane" role="tabpanel" aria-labelledby="healthgoals-tab" tabindex="0">
      <div class="card mb-4">
        <div class="card-body">
              <h5 class="card-title">Manage Health Goals</h5>
              <div class="action-buttons">
                <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addHealthGoalModal">
                  <i class="bi bi-plus-circle"></i> Add Health Goal
                </button>
              </div>
          <table class="table table-striped">
            <thead>
              <tr>
                    <th>Goal Type</th>
                    <th>Details</th>
                <th>Progress</th>
                    <th>Actions</th>
              </tr>
            </thead>
                <tbody id="healthGoalsTable">
                  <tr>
                    <td colspan="4" class="text-center">Select a client to view health goals</td>
                  </tr>
                </tbody>
          </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Appointment Modal -->
    <div class="modal fade" id="addAppointmentModal" tabindex="-1" aria-labelledby="addAppointmentModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addAppointmentModalLabel">Add Appointment</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addAppointmentForm">
              <div class="mb-3">
                <label for="newAppointmentTitle" class="form-label">Title</label>
                <input type="text" class="form-control" id="newAppointmentTitle" placeholder="Enter appointment title" required />
              </div>
              <div class="mb-3">
                <label for="newAppointmentDateTime" class="form-label">Date & Time</label>
                <input type="datetime-local" class="form-control" id="newAppointmentDateTime" required />
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Appointment</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Edit Meal Plan Modal -->
    <div class="modal fade" id="editMealPlanModal" tabindex="-1" aria-labelledby="editMealPlanModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editMealPlanModalLabel">Edit Meal Plan</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="editMealPlanForm">
              <input type="hidden" id="editMealPlanId" />
              <div class="mb-3">
                <label for="editMealPlanTitle" class="form-label">Title</label>
                <input type="text" class="form-control" id="editMealPlanTitle" required />
              </div>
              <div class="mb-3">
                <label for="editMealPlanDescription" class="form-label">Description</label>
                <textarea class="form-control" id="editMealPlanDescription" rows="3" required></textarea>
              </div>
              <div class="mb-3">
                <label for="editMealPlanMeals" class="form-label">Meals</label>
                <textarea class="form-control" id="editMealPlanMeals" rows="5" placeholder="Enter meals, one per line" required></textarea>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Meal Plan Modal -->
    <div class="modal fade" id="addMealPlanModal" tabindex="-1" aria-labelledby="addMealPlanModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addMealPlanModalLabel">Add Meal Plan</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addMealPlanForm">
              <div class="mb-3">
                <label for="newMealPlanTitle" class="form-label">Title</label>
                <input type="text" class="form-control" id="newMealPlanTitle" placeholder="Enter meal plan title" required />
              </div>
              <div class="mb-3">
                <label for="newMealPlanDescription" class="form-label">Description</label>
                <textarea class="form-control" id="newMealPlanDescription" rows="3" placeholder="Enter meal plan description" required></textarea>
              </div>
              <div class="mb-3">
                <label for="newMealPlanMeals" class="form-label">Meals</label>
                <textarea class="form-control" id="newMealPlanMeals" rows="5" placeholder="Enter meals, one per line" required></textarea>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Meal Plan</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Edit Health Goal Modal -->
    <div class="modal fade" id="editHealthGoalModal" tabindex="-1" aria-labelledby="editHealthGoalModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editHealthGoalModalLabel">Edit Health Goal</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="editHealthGoalForm">
              <input type="hidden" id="editHealthGoalId" />
              <div class="mb-3">
                <label for="editHealthGoalType" class="form-label">Goal Type</label>
                <select class="form-select" id="editHealthGoalType" required>
                  <option value="">Select a goal type</option>
                  <option value="LoseWeight">Lose Weight</option>
                  <option value="BuildMuscle">Build Muscle</option>
                  <option value="ImproveStamina">Improve Stamina</option>
                  <option value="EatHealthier">Eat Healthier</option>
                  <option value="ReduceStress">Reduce Stress</option>
                  <option value="ImproveSleep">Improve Sleep</option>
                  <option value="IncreaseEnergy">Increase Energy</option>
                  <option value="MentalClarity">Mental Clarity</option>
                  <option value="BoostImmunity">Boost Immunity</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="editHealthGoalTarget" class="form-label">Target Value</label>
                <input type="number" class="form-control" id="editHealthGoalTarget" min="0" required />
              </div>
              <div class="mb-3">
                <label for="editHealthGoalCurrent" class="form-label">Current Value</label>
                <input type="number" class="form-control" id="editHealthGoalCurrent" min="0" required />
              </div>
              <div class="mb-3">
                <label for="editHealthGoalDeadline" class="form-label">Deadline</label>
                <input type="date" class="form-control" id="editHealthGoalDeadline" required />
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Save Changes</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Add Health Goal Modal -->
    <div class="modal fade" id="addHealthGoalModal" tabindex="-1" aria-labelledby="addHealthGoalModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addHealthGoalModalLabel">Add Health Goal</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form id="addHealthGoalForm">
              <div class="mb-3">
                <label for="newHealthGoalType" class="form-label">Goal Type</label>
                <select class="form-select" id="newHealthGoalType" required>
                  <option value="">Select a goal type</option>
                  <option value="LoseWeight">Lose Weight</option>
                  <option value="BuildMuscle">Build Muscle</option>
                  <option value="ImproveStamina">Improve Stamina</option>
                  <option value="EatHealthier">Eat Healthier</option>
                  <option value="ReduceStress">Reduce Stress</option>
                  <option value="ImproveSleep">Improve Sleep</option>
                  <option value="IncreaseEnergy">Increase Energy</option>
                  <option value="MentalClarity">Mental Clarity</option>
                  <option value="BoostImmunity">Boost Immunity</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="newHealthGoalTarget" class="form-label">Target Value</label>
                <input type="number" class="form-control" id="newHealthGoalTarget" min="0" required />
              </div>
              <div class="mb-3">
                <label for="newHealthGoalCurrent" class="form-label">Current Value</label>
                <input type="number" class="form-control" id="newHealthGoalCurrent" min="0" required />
              </div>
              <div class="mb-3">
                <label for="newHealthGoalDeadline" class="form-label">Deadline</label>
                <input type="date" class="form-control" id="newHealthGoalDeadline" required />
          </div>
          <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Health Goal</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="footerContainer">
      <footer class="py-5">
        <div class="row footerRow"></div>
        <div class="py-4 my-2 border-top" style="text-align: center">
            <p>¬© 2025 NutriLife, Inc. All rights reserved.</p>
          </div>
        </footer>
      </div>

    <!-- Required Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    
    <!-- Initialize dashboard -->
    <script type="module">
      import { initAdminDashboard } from './Adashboard.js';
      import UserService from '../../services/UserService.js';
      
      // Make UserService available globally
      window.UserService = UserService;
      
      // Configure toastr
      toastr.options = {
        "closeButton": true,
        "progressBar": true,
        "positionClass": "toast-top-right",
        "timeOut": "3000"
      };
      
      // Initialize dashboard when loaded
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        setTimeout(initAdminDashboard, 100);
      } else {
        document.addEventListener('DOMContentLoaded', initAdminDashboard);
      }
    </script>

