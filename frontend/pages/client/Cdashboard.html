<nav class="navbar navbar-expand-lg navbar-light">
  <div
    class="container-fluid d-flex justify-content-between align-items-center"
  >
    <span class="d-flex align-items-center"
      ><img
        src="../../assets/images/logo.svg"
        alt="NutriLife logo"
        onerror="this.onerror=null; this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItbGVhZiI+PHBhdGggZD0iTTExIDIwQzYuNSAxNiA2IDE5IDYgMTJDNiA1IDEyIDMgMTIgM0MxMiAzIDEyIDkgMTIgOUMxMiA5IDE4IDkgMTggOUMxOCA5IDE4IDIxIDExIDIwWk0xMSAyMEMyIDIwIDIgMTYgMiAxNiI+PC9wYXRoPjwvc3ZnPg==';"
        style="margin-right: 8px"
      /><a class="navbar-brand" >NutriLife</a>
    </span>

    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNav"
      aria-controls="navbarNav"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav mb-2 mb-lg-0">
      <li class="nav-item">
        <span class="container-fluid d-flex justify-content-between align-items-center"><i class="profilePic bi bi-person-circle"></i><!-- Button trigger modal -->
          <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Logout
          </button>
          
          <!-- Modal -->
          <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">Attention!</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  Are you sure you want to log out and return to home screen?
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No, Return</button>
                  <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
                    <a onclick="logoutUser()">Yes, Logout</a>
                  </button>
                </div>
              </div>
            </div>
          </div></span>
      </li>
      </ul>
    </div>

  
</nav>



<div class="container mt-5">
  <video
  class="clientHeroVid"
    autoplay
    muted
    loop
    src="https://videos.pexels.com/video-files/5857697/5857697-uhd_2560_1440_25fps.mp4"
  ></video>
  <div class="clientHero">
  <div class="row">
    <div class="col-md-12 text-center">
      <h2>Welcome, [Client Name]!</h2>
      <p>
        Your health journey starts here. Check your stats and manage your
        profile.
      </p>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-md-4">
      <div class="clientCards card text-center">
        <div class="card-body">
          <h5 class="card-title">ðŸ“… Appointments</h5>
          <p class="card-text">You have 2 upcoming appointments.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="clientCards card text-center">
        <div class="card-body">
          <h5 class="card-title">ðŸ¥— Meal Plans</h5>
          <p class="card-text">Your current meal plan:</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="clientCards card text-center">
        <div class="card-body">
          <h5 class="card-title">ðŸŽ¯ Health Goals</h5>
          <p class="card-text">You have achieved 3 out of 5 health goals.</p>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="row mt-5" style="display: flex; justify-content: center">
    <div class="col-md-6">
      <ul
        class="nav nav-tabs"
        id="myTab"
        role="tablist"
        style="display: flex; justify-content: center"
      >
        <li class="nav-item" role="presentation">
            <button
            class="nav-link active"
            id="home-tab"
            data-bs-toggle="tab"
            data-bs-target="#home-tab-pane"
            type="button"
            role="tab"
            aria-controls="home-tab-pane"
            aria-selected="true"
            style="color: rgb(30, 154, 92);"
            onfocus="this.style.color='rgb(30, 154, 92)';"
            onblur="this.style.color='gray';"
          >
            Appointments
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="profile-tab"
            data-bs-toggle="tab"
            data-bs-target="#profile-tab-pane"
            type="button"
            role="tab"
            aria-controls="profile-tab-pane"
            aria-selected="false"
            style="color: gray;"
            onfocus="this.style.color='rgb(30, 154, 92)';" 
            onblur="this.style.color='gray';"
          >
            Meal Plans
          </button>
        </li>
        <li class="nav-item" role="presentation">
            <button
            class="nav-link"
            id="contact-tab"
            data-bs-toggle="tab"
            data-bs-target="#contact-tab-pane"
            type="button"
            role="tab"
            aria-controls="contact-tab-pane"
            aria-selected="false"
           style="color: gray;"
            onfocus="this.style.color='rgb(30, 154, 92)';" 
            onblur="this.style.color='gray';"
          >
            Health Goals
          </button>
        </li>
      </ul>
    </div>
  </div>

  <div class="tab-content" id="myTabContent">
    <div
      class="tab-pane fade show active"
      id="home-tab-pane"
      role="tabpanel"
      aria-labelledby="home-tab"
      tabindex="0"
    >
      <div class="appot container">
        <h2 class="mb-4">Manage Appointments</h2>

        <div id="content">
          <form id="appointment-form" class="mb-3">
            <div class="mb-2">
              <input
                type="text"
                id="appointment-title"
                class="form-control"
                placeholder="Appointment Title"
                required
              />
            </div>
            <div class="mb-2">
              <input
                type="datetime-local"
                id="appointment-date"
                class="form-control"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">
              Add Appointment
            </button>
          </form>

          <ul id="appointments-list" class="list-group"></ul>
        </div>
      </div>
    </div>
    <div
      class="tab-pane fade"
      id="profile-tab-pane"
      role="tabpanel"
      aria-labelledby="profile-tab"
      tabindex="0"
    >
      <div class="mealPlan container">
        <h2 class="mb-4" style="text-align: center">Your Meal Plans</h2>
        <div class="meal-plans-list">
          <!-- Meal plans will be dynamically loaded here -->
        </div>
      </div>
    </div>
    <div
      class="tab-pane fade"
      id="contact-tab-pane"
      role="tabpanel"
      aria-labelledby="contact-tab"
      tabindex="0"
    >
      <div class="healthGoals container">
        <h2 class="mb-4" style="text-align: center">Your Health Goals</h2>
        <div class="goals-list">
          <!-- Health goals will be dynamically loaded here -->
        </div>
            </div>
          </div>
        </div>

  <!-- Meal Plan Modal -->
  <div class="modal fade" id="mealPlanModal" tabindex="-1" aria-labelledby="mealPlanModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="mealPlanModalLabel">Meal Plan Details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
        <div class="modal-body">
          <!-- Meal plan details will be dynamically loaded here -->
              </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Required Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">

  <!-- Initialize dashboard -->
  <script type="module">
    import { initDashboard } from './dashboard.js';
    
    // Configure toastr
    toastr.options = {
      "closeButton": true,
      "progressBar": true,
      "positionClass": "toast-top-right",
      "timeOut": "3000"
    };
    
    // Initialize dashboard when loaded in SPA context
    if (document.readyState === 'complete' || document.readyState === 'interactive') {
      setTimeout(initDashboard, 100);
    } else {
      document.addEventListener('DOMContentLoaded', initDashboard);
    }
    
    // Make sure logout function is available
    window.logoutUser = function() {
      import('./dashboard.js').then(module => {
        if (module.default && module.default.logout) {
          module.default.logout();
        } else if (window.UserService && window.UserService.logout) {
          window.UserService.logout();
        } else {
          // Fallback to direct navigation
          localStorage.clear();
          window.location.href = '/';
        }
      });
    }
  </script>
</div>

<div class="footerContainer">
  <footer class="py-5 ">
    <div class="row footerRow">
      

      
    </div>

    <div
      class=" py-4 my-2 border-top"
      style="text-align: center;"
    >
      <p>Â© 2025 NutriLife, Inc. All rights reserved.</p>
      
    </div>
  </footer>
</div>

<!-- Add CSS for health goals -->
<style>
  .healthGoals {
    margin-top: 30px;
    padding: 20px;
  }
  
  .healthGoals .goals-list {
    display: flex;
    flex-wrap: wrap;
    margin-top: 20px;
  }
  
  .goal-icon {
    font-size: 24px;
    margin-right: 10px;
  }
  
  /* Fix for tab content */
  .tab-pane {
    padding: 20px 0;
  }
  
  .tab-content {
    min-height: 400px;
  }
</style>
